---
import { getLangFromUrl, useTranslations, useTranslatedPath } from '@/i18n/utils';
import { NAV_ITEMS } from '@/constants';

import type { NavItem } from '@/constants/types';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
const currentPath = Astro.url.pathname;
---

<ul class='flex gap-5'>
  {
    NAV_ITEMS?.map(({ name, href }: NavItem) => {
      const path = translatePath(href);
      return (
        <li>
          <a
            href={path}
            class={`text-xl font-bold text-white font-Syne transition hover:opacity-80 ${
              currentPath !== path ? 'opacity-60' : ''
            }`}
          >
            {t(name)}
          </a>
        </li>
      );
    })
  }
</ul>
