---
import { getLangFromUrl, useTranslatedPath, useTranslations } from '@/i18n/utils';
import { filterProjects } from '@/utils';
import type { ProjectWithLang } from '@/types';

import { ProjectsList } from '@/components/index.astro';

const lang = getLangFromUrl(Astro.url);

const projects: ProjectWithLang[] = await Astro.glob('@/data/projects/*.json');
const projectList = await filterProjects({ projects, lang });
---

<section
  class='flex items-center justify-center px-5 py-14 md:pb-40 '
>
  <div class='container'>
    <ProjectsList projects={projectList} />
  </div>
</section>
